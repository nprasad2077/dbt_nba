version: 2

models:
  - name: int_games_enriched
    description: Comprehensive game information combining base game data with quarter-by-quarter scoring
    columns:
      - name: game_id
        description: Unique game identifier
        tests:
          - unique
          - not_null
      - name: game_date
        description: Date of the game
        tests:
          - not_null
      - name: was_clutch_game
        description: Whether the game was within 5 points entering the 4th quarter
      - name: is_comeback_win
        description: Whether the winning team was trailing at halftime
      - name: game_competitiveness
        description: Categorization based on final margin (Very Close/Close/Competitive/Blowout)

  - name: int_player_performance
    description: Combined player statistics with performance metrics and role classifications
    columns:
      - name: game_id
        description: Game identifier
        tests:
          - not_null
      - name: player_id
        description: Player identifier
        tests:
          - not_null
      - name: performance_rating
        description: Composite performance score (0-10 scale)
      - name: player_role
        description: Role classification based on minutes and usage (Star/Key Player/Rotation/Bench/DNP)
      - name: fantasy_points
        description: Standard fantasy basketball points

  - name: int_team_performance
    description: Team-level performance aggregations with ratings and categorizations
    columns:
      - name: game_id
        description: Game identifier
        tests:
          - not_null
      - name: team
        description: Team abbreviation
        tests:
          - not_null
      - name: performance_grade
        description: Overall performance grade (A+ to F scale)
      - name: home_away
        description: Whether team played at home or away
      - name: point_margin
        description: Points scored minus points allowed
